<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UM General Atmosphere: /home/wilfred/PhD/UM/src/utility/fluxproc/set_lsmu.f90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="unified_model_logo_2.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UM General Atmosphere
   &#160;<span id="projectnumber">8.6</span>
   </div>
   <div id="projectbrief">UK Met Offices Unified Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.xhtml">src</a></li><li class="navelem"><a class="el" href="dir_0619a8f54b4fad7043a6de45be8fde0b.xhtml">utility</a></li><li class="navelem"><a class="el" href="dir_def911949590700bb7220b937e069fda.xhtml">fluxproc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">set_lsmu.f90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="set__lsmu_8f90_source.xhtml">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a48811a26bf1dd049869e24b26b48e8ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfacesubroutine.xhtml">subroutine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="set__lsmu_8f90.xhtml#a48811a26bf1dd049869e24b26b48e8ae">set_lsmu</a> (<a class="el" href="aflddima_8h.xhtml#a9b67803737a34a62ca32894ca567dd94">ncols</a>, <a class="el" href="aflddims_8h.xhtml#aa805da510f78999eac30d99ab5df005e">nrowst</a>, <a class="el" href="aflddims_8h.xhtml#a5b04e1bd3e8f19ef36d632a1b6c2ba11">nrowsuv</a>, LCyclic, <a class="el" href="acoords_8h.xhtml#a52ccaac956b3b2d54d3723ddf201d2c4">lambda_t</a>, <a class="el" href="acoords_8h.xhtml#a888128576dbcca720fb6024cbb47071f">phi_t</a>, lsmt, ILandPt, lsmuv, lambda_uv, phi_uv)</td></tr>
<tr class="memdesc:a48811a26bf1dd049869e24b26b48e8ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Programming standard: Unified Model Documentation Paper No 3.  <a href="#a48811a26bf1dd049869e24b26b48e8ae">More...</a><br /></td></tr>
<tr class="separator:a48811a26bf1dd049869e24b26b48e8ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a48811a26bf1dd049869e24b26b48e8ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48811a26bf1dd049869e24b26b48e8ae">&#9670;&nbsp;</a></span>set_lsmu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfacesubroutine.xhtml">subroutine</a> set_lsmu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>&#160;</td>
          <td class="paramname"><em>ncols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>&#160;</td>
          <td class="paramname"><em>nrowst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>&#160;</td>
          <td class="paramname"><em>nrowsuv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical&#160;</td>
          <td class="paramname"><em>LCyclic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__fort2c__2a_8h.xhtml#a031f8951175b43076c2084a6c2173410">real</a>, dimension(<a class="el" href="aflddima_8h.xhtml#a9b67803737a34a62ca32894ca567dd94">ncols</a>)&#160;</td>
          <td class="paramname"><em>lambda_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__fort2c__2a_8h.xhtml#a031f8951175b43076c2084a6c2173410">real</a>, dimension(<a class="el" href="aflddims_8h.xhtml#aa805da510f78999eac30d99ab5df005e">nrowst</a>)&#160;</td>
          <td class="paramname"><em>phi_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>, dimension(<a class="el" href="aflddima_8h.xhtml#a9b67803737a34a62ca32894ca567dd94">ncols</a>, <a class="el" href="aflddims_8h.xhtml#aa805da510f78999eac30d99ab5df005e">nrowst</a>)&#160;</td>
          <td class="paramname"><em>lsmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>&#160;</td>
          <td class="paramname"><em>ILandPt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>, dimension(<a class="el" href="aflddima_8h.xhtml#a9b67803737a34a62ca32894ca567dd94">ncols</a>, <a class="el" href="aflddims_8h.xhtml#a5b04e1bd3e8f19ef36d632a1b6c2ba11">nrowsuv</a>)&#160;</td>
          <td class="paramname"><em>lsmuv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__fort2c__2a_8h.xhtml#a031f8951175b43076c2084a6c2173410">real</a>, dimension(<a class="el" href="aflddima_8h.xhtml#a9b67803737a34a62ca32894ca567dd94">ncols</a>)&#160;</td>
          <td class="paramname"><em>lambda_uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__fort2c__2a_8h.xhtml#a031f8951175b43076c2084a6c2173410">real</a>, dimension(<a class="el" href="aflddims_8h.xhtml#a5b04e1bd3e8f19ef36d632a1b6c2ba11">nrowsuv</a>)&#160;</td>
          <td class="paramname"><em>phi_uv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Programming standard: Unified Model Documentation Paper No 3. </p>
<p>Programming standard: Unified Model Documentation Paper No 3 Version No 1 15/1/90 Purpose: Flux processing routine. Sets u velocity atmosphere land / sea mask In the atmosphere code C_D | dv/dz | is linearly interpolated from tracer points to velocity points. Velocity points next to a land point are thus "contaminated" with these values from land points which could be much larger than those at sea points. So only velocity points surrounded by tracer sea points are treated as land points in code to form fluxes for the operational FOAM model. The routines for rotating wind components assume that they are both defined at the same points - as they are on a B-grid. We have chosen to average the C-grid velocities to the B-grid vely points. This is preferable to averaging to the tracer grid in that averaging of the land/sea mask and near the pole of the atmosphere grid is less severe. This file belongs in section: Small execs</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ncols</td><td>declaration of arguments </td></tr>
  </table>
  </dd>
</dl>
<p>declaration of local arrays</p>
<p>declaration of local scalars</p>
<p>declaration of externals</p>
<ol type="1">
<li>Build an extended tracer land / sea mask</li>
</ol>
<p>points lie outside limited model's area</p>
<ol type="1">
<li>Convert tracer land/sea mask to velocity grid land/sea mask</li>
<li>Set latitudes (Phi_uv)</li>
<li>Set longitudes (Lambda_uv) </li>
</ol>

<p class="definition">Definition at line <a class="el" href="set__lsmu_8f90_source.xhtml#l00029">29</a> of file <a class="el" href="set__lsmu_8f90_source.xhtml">set_lsmu.f90</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="set__lsmu_8f90_a48811a26bf1dd049869e24b26b48e8ae_cgraph.svg" width="246" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="set__lsmu_8f90_a48811a26bf1dd049869e24b26b48e8ae_icgraph.svg" width="632" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
