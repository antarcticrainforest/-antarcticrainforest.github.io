<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UM General Atmosphere: /home/wilfred/PhD/UM/src/atmosphere/boundary_layer/dust_calc_emiss_frac.f90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="unified_model_logo_2.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UM General Atmosphere
   &#160;<span id="projectnumber">8.6</span>
   </div>
   <div id="projectbrief">UK Met Offices Unified Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.xhtml">src</a></li><li class="navelem"><a class="el" href="dir_1df14ea1ac826f73bc3062fa8a76e0c2.xhtml">atmosphere</a></li><li class="navelem"><a class="el" href="dir_632ae183c4312d9574c0a0e7d49b8023.xhtml">boundary_layer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">dust_calc_emiss_frac.f90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="dust__calc__emiss__frac_8f90_source.xhtml">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a3a11ae03397e8834b172f6a6d6bbd824"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfacesubroutine.xhtml">subroutine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dust__calc__emiss__frac_8f90.xhtml#a3a11ae03397e8834b172f6a6d6bbd824">dust_calc_emiss_frac</a> (land_pts, ntiles, tile_pts, tile_index, frac, lai_ft, dust_emiss_frac)</td></tr>
<tr class="memdesc:a3a11ae03397e8834b172f6a6d6bbd824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the dust emission fraction for all land surface tiles, or.  <a href="#a3a11ae03397e8834b172f6a6d6bbd824">More...</a><br /></td></tr>
<tr class="separator:a3a11ae03397e8834b172f6a6d6bbd824"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a3a11ae03397e8834b172f6a6d6bbd824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a11ae03397e8834b172f6a6d6bbd824">&#9670;&nbsp;</a></span>dust_calc_emiss_frac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfacesubroutine.xhtml">subroutine</a> dust_calc_emiss_frac </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>, intent(in)&#160;</td>
          <td class="paramname"><em>land_pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>, intent(in)&#160;</td>
          <td class="paramname"><em>ntiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>, dimension(ntype), intent(in)&#160;</td>
          <td class="paramname"><em>tile_pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="eg__hash_8c.xhtml#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>, dimension(land_pts,ntype), intent(in)&#160;</td>
          <td class="paramname"><em>tile_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__fort2c__2a_8h.xhtml#a031f8951175b43076c2084a6c2173410">real</a>, dimension(land_pts,ntype), intent(in)&#160;</td>
          <td class="paramname"><em>frac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__fort2c__2a_8h.xhtml#a031f8951175b43076c2084a6c2173410">real</a>, dimension(land_pts,npft), intent(in)&#160;</td>
          <td class="paramname"><em>lai_ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__fort2c__2a_8h.xhtml#a031f8951175b43076c2084a6c2173410">real</a>, dimension(land_pts,ntiles), intent(<a class="el" href="artinfa_8h.xhtml#a339820c042394ba89888471d68213699">out</a>)&#160;</td>
          <td class="paramname"><em>dust_emiss_frac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the dust emission fraction for all land surface tiles, or. </p>
<p>Calculates the dust emission fraction for all land surface tiles, or provides an aggregate value in the case of a single tile scheme. Method: For a given input tile it calculates the bare soil emission fraction for that tile, using the required inputs. The different methods for doing this calculation are dependent on the dust_veg_emiss switch: 0: Do not allow dust emission from tiles other than the bare soil tile 1: Allow emission from all vegetated tiles, according to their bare soil radiative fraction (used to calculate the surface albedo) 2: As 1, but does not allow dust emission from trees It is expected that other options will be implemented as and when the dust emission from vegetation is better constrained by obsevations and more sophisticated models become available. This file belongs in section: 3: Boundary Layer Language: Fortran 90. Programming standard : unified model documentation paper No 3</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">land_pts</td><td>Subroutine arguments IN arguments</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dust_emiss_frac</td><td>OUT arguments </td></tr>
  </table>
  </dd>
</dl>
<p>Local variables</p>
<p>End of header</p>
<p>explicitly initialise the dust_emiss_frac array as all zeroes as it will be calculated as a sum over tiles</p>
<p>and test to see if this does anything...</p>
<p>start with the NULL option, where the emission is only from the bare soil tile, and none from vegetation</p>
<p>Option 1 is to include the bare soil radiative fraciton of bare soil of all vegetated tiles, using the leaf area index:</p>
<p>Get the radiative fraction of bare soil within each of the vegetated tiles: assuming that the vegetated ones are always first (which they should be)</p>
<p>get the sclaing parameters for each PFT, for JULES or non-JULES: </p>

<p class="definition">Definition at line <a class="el" href="dust__calc__emiss__frac_8f90_source.xhtml#l00024">24</a> of file <a class="el" href="dust__calc__emiss__frac_8f90_source.xhtml">dust_calc_emiss_frac.f90</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="dust__calc__emiss__frac_8f90_a3a11ae03397e8834b172f6a6d6bbd824_icgraph.svg" width="100%" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
